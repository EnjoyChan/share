<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>webuild</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="../revealjs/css/reveal.css">
		<link rel="stylesheet" href="../revealjs/css/theme/serif.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../revealjs/lib/css/zenburn.css">
		<style media="screen">
			pre {
				background-color: #fff;
			}
		</style>
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<!--  page 1-->
				<section>
					<h3>webuild</h3>
					<h4>build everything we want</h4>
					<p>
						Enjoy Chan(å¹³å°äº§å“å‰ç«¯)
					</p>
				</section>

				<section>
					<h4>ç›®å½•</h4>
					<ul>
						<li>webuildçš„äº§ç”Ÿ</li>
						<li>webuildå„ç«™ç‚¹æ„å»º</li>
						<li>webuildå‘½ä»¤è¡Œä½¿ç”¨</li>
						<li>webuildå¼€å‘</li>
						<li>webuildæ€»ç»“</li>
					</ul>
				</section>

				<section>
					<h4>schema</h4>
					<section>
						<h4>ç«™ç‚¹</h4>
						<ul style="display: block">
							<li style="font-size: 20px;"><span style="font-size: 22px"><b>weui.oa:</b></span> å…¬å…±ç«™ç‚¹ï¼Œå­˜æ”¾htmlã€cssã€imageï¼Œå­˜æ”¾vueç»„ä»¶ã€libsã€modules</li>
							<li style="font-size: 20px;"><span style="font-size: 22px"><b>rc.oa:</b></span> ä»£è¡¨ä¸šåŠ¡ç«™ç‚¹ï¼Œå­˜æ”¾ä¸šåŠ¡ç›¸å…³js</li>
						</ul>
						<pre style="width: auto; display: inline-block">
	  <span style="font-size: 22px; font-weight: bold">weui.oa</span>
	    |
	    |---- <b>htdocs (ç«™ç‚¹è®¿é—®æŒ‡å‘)</b>
	    |
	    |---- src (å‰ç«¯)
	    |
	    |---- template (é‡æ„)
						</pre>
						<pre style="width: auto; display: inline-block">
	 <span style="font-size: 22px; font-weight: bold">rc.oa</span>
	    |
	    |---- <b>htdocs (ç«™ç‚¹è®¿é—®æŒ‡å‘)</b>
	    |
	    |---- src (phpæ–‡ä»¶)
	    |
	    |---- resource (ä¸šåŠ¡js)
						</pre>
					</section>
					<section>
						<pre>
    <span style="font-size: 22px; font-weight: bold">weui.oa/src</span>
	|
	|---- libs (å…¬å…±åº“æ–‡ä»¶,ex: vue.jsã€vue-resource.js)
	|
	|---- modules (å…¬ç”¨jsåŠŸèƒ½æ¨¡å—)
	|
	|---- ui (å…¬ç”¨vueç»„ä»¶)
						</pre>
					</section>
					<section>
						<p>
							weui.oa/src vs weui.oa/htdocs
						</p>
						<img src="./imgs/1.png" alt="" style="width: 280px">
						<img src="./imgs/2.png" alt="" style="width: 280px">
					</section>
					<section>
						<p>
							ç‰ˆæœ¬ã€æ„å»ºä¿¡æ¯ package.json
						</p>
						<img src="./imgs/3.png" alt="" width="300px"/>
					</section>
					<section>
						<p>
							weui.js
						</p>
						<pre>
							<code class="hljs" data-trim contenteditable>
//weui.js
import Vue from 'vue'
import VueResource from 'vue-resource'

export default {
	Vue: Vue,
	VueResource: VueResource
}

//ä¸šåŠ¡js
import {Vue, VueResource} from 'weui/libs/desktop/weui'

							</code>
						</pre>
						<pre>
							<code class="hljs" data-trim contenteditable>
//weui.js, æ–‡ä»¶åˆå¹¶
[vue, vue-resource]

//ä¸šåŠ¡js
import Vue from 'vue'
import VueResource from 'vue-resource'

							</code>
						</pre>
						<p style="font-size: 22px" class="fragment">
							bundleã€concate
						</p>
					</section>
					<section>
						<p>
							ä¸šåŠ¡jsç¤ºä¾‹
						</p>
						<pre>
							<code>
import Vue from 'vue';//weui.oa/htdocs/libs
import VueMaskLayer from 'UI/desktop/vue-mask-layer/1.0.0';//weui.oa/htdocs/ui
import VueWidget from './src/widget.vue';//è‡ªå®šä¹‰ç»„ä»¶

var app = new Vue({
    el: '#app',
    data: {
        isMaskShow: false
    },
    components: { VueWidget, VueMaskLayer}
});
							</code>
						</pre>
						<p style="font-size: 22px" class="fragment">
							bundle
						</p>
					</section>
					<section>
						<p>
							åŠŸèƒ½ç‚¹
						</p>
						<ul>
							<li><b>copyï¼š </b>æ–‡ä»¶å¤åˆ¶</li>
							<li><b>concateï¼š </b>æ–‡ä»¶åˆå¹¶</li>
							<li><b>bundleï¼š </b>æ–‡ä»¶æ‰“åŒ…</li>
							<li><b>ui: </b>è°ƒè¯•å¼€å‘ç»„ä»¶ã€demoç”Ÿæˆ</li>
							<li><b>package: </b>ç‰ˆæœ¬ä¿¡æ¯ package.json</li>
						</ul>
					</section>
					<section>
						<img src="./imgs/4.png" alt="" style="border: none"/>
					</section>
				</section>
				<section>
					<section>
						<h4>webuild package</h4>
						<p>
							æ ¹æ®package.jsonæ‰§è¡Œconcateã€copyã€bundleæ“ä½œ
						</p>
					</section>
					<section>
						<pre style="width: 400px; margin: 0 auto">
	  <span style="font-size: 22px; font-weight: bold">weui.oa</span>
	    |
	    |---- htdocs
	    |
	    |---- src
	    |
	    |---- template
						</pre>
					</section>
					<section>
						<img src="./imgs/5.png" alt="" />
					</section>
					<section>
						<h5>weui/src</h5>
						<img src="./imgs/6.png" alt="" style="width: 620px">
					</section>
					<section>
						<h5>weui/src</h5>
						<img src="./imgs/7.png" alt="" />
					</section>
					<section>
						<h4>package.json - concat</h4>
						<pre>
							<code style="font-size: 18px">
{
	"type": "concat",
	"output": [
		{
			"version": "1.0.0",
			"name": "vue-libs",
			"entry": ["vue.js", "vue-http.js"]
		},
		{
			"version": "1.0.1",
			"name": "vue-lib2-v2",
			"entry": ["vue.js", "vue-http.js"]
		}
	]
}
							</code>
						</pre>
					</section>
					<section>
						<h4>package.json - copy</h4>
						<pre>
							<code style="font-size: 18px">
{
    "type": "copy",
    "output": [
        {
            "version": "1.0.0"
        }
    ]
}
							</code>
						</pre>
					</section>
					<section>
						<h4>package.json - bundle</h4>
						<pre>
							<code style="font-size: 18px">
{
    "type": "bundle",
    "output": [
        {
            "version": "1.0.1",
            "entry": "weui.js"
        }
    ]
}
							</code>
						</pre>
					</section>
				</section>

				<section>
					<section>
						<h4>webuild ui</h4>
						<p>
							æ­å»ºvue componentå¼€å‘çš„ç¯å¢ƒä»¥åŠç”Ÿæˆdemo
						</p>
					</section>
					<section>
						<img src="./imgs/9.png" alt="" />
					</section>
					<section>
						<p>
							webuild uiæ‰§è¡Œå†…å®¹
						</p>
						<ul>
							<li>demoæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯åˆ™å¿½ç•¥ç¬¬äºŒæ­¥</li>
							<li>æ–°å»ºdemo/index.htmlã€demo/index.jsæ–‡ä»¶</li>
							<li>å¼€å¯webpack-dev-server, ç›‘å¬æŒ‡å®šç«¯å£</li>
						</ul>
					</section>
					<section>
						<p>
							æ¨¡æ¿
						</p>
						<img src="./imgs/10.png" alt="" />
						<img src="./imgs/11.png" alt="" />
					</section>
					<section>
						<p>
							vueç»„ä»¶
						</p>
						<pre>
							<code data-trim contenteditable>
<template>
	<div></div>
</template>

<script>
	export default {

	}
</script>

//- path error
<style src="./theme/style.css">
</style>
							</code>
						</pre>
					</section>
				</section>
				<section>
					<section>
						<h4>webuild bundle</h4>
						<p>
							æŸ¥æ‰¾å…¥å£jså¹¶ä½¿ç”¨webpackæ‰“åŒ…
						</p>
					</section>
					<section>
						<pre style="width: 400px; margin: 0 auto">
	  <span style="font-size: 22px; font-weight: bold">rc.oa</span>
	    |
	    |---- htdocs
	    |
	    |---- src
	    |
	    |---- resource
						</pre>
					</section>
					<section>
						<img src="./imgs/12.png" alt="" />
					</section>
					<section>
						<p>
							ä¸šåŠ¡å…¥å£js
						</p>
						<pre>
							<code style="font-size: 15px;">
import Vue from 'vue';//- libs
import Toast from 'UI/desktop/vue-toast/1.0.0';//- weui.oa/htdocs/ui
import VueMaskLayer from 'UI/desktop/vue-mask-layer/1.0.0'; //- weui.oa/htdocs/ui
import VueMaskLayer from 'Modules/url/1.0.0'; //- weui.oa/htdocs/modules
import VueWidget from './src/widget.vue';//- rc.oa

var app = new Vue({
    el: '#app',
    data: {
        btn: 'ç‚¹æˆ‘æç¤º',
        isMaskShow: false
    },
    components: { VueWidget, VueMaskLayer},
    methods: {
        showMsg() {
            this.isMaskShow = true;
            this.toast.$error('æç¤ºä¿¡æ¯1');
        },
        showAnotherMsg() {
            var a = this.toast.$loading('æç¤ºä¿¡æ¯2');
            var This = this;
            setTimeout(() => {
                This.toast.$hideMessage(a);
            }, 3000);
        }
    }
});
							</code>
						</pre>
					</section>
					<section>
						<p>
							é¡µé¢å¼•ç”¨è·¯å¾„
						</p>
						<pre>
							<code style="font-size: 15px;">
//- é™æ€èµ„æº
<link rel="stylesheet" href="//weui.oa.com/css/rc-oa/order/list.css">

//- vue component style, by extract-css loader
<link rel="stylesheet" href="/res/static/order/index.css">

//- image path rule
<img src="//weui.oa.com/img/rc-oa/order/list.jpg">

//- weui.oa assets, begin with `//weui.oa`
<script src="//weui.oa.com/libs/desktop/1.0.1/weui.js"></script>

//- current project assets, begin with `/res/**`
<script src="/res/static/order/index.js"></script>
							</code>
						</pre>
						<p class="fragment" style="font-size: 22px">
							* ä¸è¦ä½¿ç”¨node >= 6.0 and <= 6.1
						</p>
						<pre class="fragment" style="color: red">
Module build failed: Error: "extract-text-webpack-plugin" loader is used
without the corresponding plugin, refer to
https://github.com/webpack/extract-text-webpack-plugin
for the usage example
						</pre>
					</section>
				</section>
				<section>
					<section>
						<h4>webuild é™æ€èµ„æºè·¯å¾„æ·»åŠ ç‰ˆæœ¬å·</h4>
					</section>

					<section>
						<pre>
							<code>
	//- before
	body {
		background-img: url('//weui.oa.com/img/list.png')
	}

	//- after
	body {
		background-img: url('//weui.oa.com/img/list.png?v=b99a44d')
	}
							</code>
						</pre>
						<ul class="fragment">
							<li>æŸ¥æ‰¾æ‰€æœ‰å›¾ç‰‡ï¼Œå¹¶æ ¹æ®å†…å®¹è®¡ç®—å¯¹åº”çš„MD5å€¼å–7ä½</li>
							<li>éå†æ‰€æœ‰çš„cssæ–‡ä»¶å†…å®¹ï¼ŒæŸ¥æ‰¾å›¾ç‰‡è·¯å¾„å¼•ç”¨å¹¶æ›¿æ¢æˆå¸¦MD5å€¼çš„è·¯å¾„</li>
						</ul>
					</section>

					<section>
						<img src="./imgs/13.png" alt="" />
						<ul>
							<li>å¼€å‘æ¨¡å¼ï¼Œå¼€å¯serverã€livereload, æ ¹ç›®å½•ä¸ºhtdocsã€template</li>
							<li>å®Œæ•´æ„å»ºï¼Œå¼•ç”¨webuildä¸ºcssæ–‡ä»¶æ·»åŠ hash</li>
							<li>å¤„ç†å¼•ç”¨è·¯å¾„é—®é¢˜</li>
						</ul>
					</section>
				</section>
				<section>
					<h4>webuild usage</h4>
					<section>
						<img src="./imgs/14.png" alt="" />
						<p>command: packageã€bundleã€ui</p>
						<p>options: devã€productã€watchã€server</p>
						<p>port</p>
					</section>
					<section>
						<p>
							ç¤ºä¾‹
						</p>
						<ul>
							<li>webuild package</li>
							<li>webuild package modules/url</li>
							<li>webuild bundle</li>
							<li>webuild bundle res/static/order/list -d</li>
							<li>webuild ui desktop/vue-mask-layer -s</li>
						</ul>
					</section>
					<section>
						<p>
							webuild.config.js
						</p>
						<img src="./imgs/15.png" alt="" />
						<img src="./imgs/16.png" alt="" />
						<img src="./imgs/17.png" alt="" />
					</section>
				</section>

				<section>
					<h4>webuildå¼€å‘</h4>
					<section>
						<ul>
							<li>è¦æ±‚nodeç‰ˆæœ¬è¶…è¿‡4</li>
							<li>æ—¢åšå‘½ä»¤ä¹ŸåšAPI</li>
							<li>ä¾èµ–webpack</li>
							<li>ä½¿ç”¨coæ§åˆ¶æµç¨‹</li>
						</ul>
					</section>
				</section>

				<section>
					<h4>Next</h4>
					<ul>
						<li>æç‚¼å…±æ€§ï¼šè¯»å–package.json</li>
						<li>ä»£ç é‡æ„ï¼šnodeå‡çº§ã€webpackå‡çº§ã€error catchç­‰</li>
						<li>æ–‡ä»¶è‡ªåŠ¨æ·»åŠ åˆ°å¯¹åº”çš„phpæ–‡ä»¶ä¸­</li>
						<li>ä½¿ç”¨git log</li>
						<li>......</li>
					</ul>
				</section>

				<section data-background="./pics/1.jpg" data-transition="zoom">
					<div style="background-color: rgba(0, 0, 0, 0.6); color: #fff; padding: 20px;">
						<h4>the end</h4>
						<blockquote>
							åŒ äºº
						</blockquote>
						<p class="fragment">thanks for your attentionï½ğŸ‘€ </p>
					</div>
					<!-- <img src="./pics/1.jpg" alt="" width="420px"> -->
				</section>
			</div>
		</div>
		<script src="../revealjs/lib/js/head.min.js"></script>
		<script src="../revealjs/js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: '../revealjs/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../revealjs/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../revealjs/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../revealjs/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../revealjs/plugin/zoom-js/zoom.js', async: true },
					{ src: '../revealjs/plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
